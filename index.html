<!DOCTYPE html>
<html>
<head>
    <title>Network Visualization</title>
    <style>
        body {
            margin: 0;
            background: #ffffff;
        }
        canvas {
            width: 100vw;
            height: 100vh;
        }
    </style>
    <!-- Include D3.js library -->
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <!-- Include 3D Force Graph -->
    <script src="https://unpkg.com/3d-force-graph"></script>
</head>
<body>
    <div id="3d-graph"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const highlightNodes = [
                "currentglobalnews.site",
                "276 Tiffin St, Barrie, ON, L4N-2N4, CA",
                "Amsterdam, North Holland, NH, The Netherlands, NL",
                "beget.com"
            ];

            // Fetch network data and initialize the graph
            fetch('./network_data.json')
                .then(res => res.json())
                .then(data => {
                    const graph = ForceGraph3D()
                        (document.getElementById('3d-graph'))
                        .graphData(data)
                        .linkColor(() => 'rgba(0,0,0,1)')
                        .linkWidth(1)
                        .linkDirectionalArrowLength(0)
                        .backgroundColor('#ffffff')
                        .showNavInfo(false)
                        .d3Force('charge', d3.forceManyBody().strength(-100))
                        .d3Force('link', d3.forceLink().distance(100));

                    // Adjust node size and color for highlighted nodes
                    graph.nodeColor(node => highlightNodes.includes(node.id) ? 'red' : 'black');
                    graph.nodeRelSize(node => highlightNodes.includes(node.id) ? 3 : 1);  // Larger size for highlighted nodes
                })
                .catch(error => {
                    console.error("Error loading the network data:", error);
                });
        });
    </script>
</body>
</html>
